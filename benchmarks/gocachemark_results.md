# gocachemark Results

```
Command: gocachemark -caches multicache,otter,clock,theine,sieve,freelru-sync -outdir /Users/t/dev/r2r/multicache/benchmarks
Environment: darwin/arm64, 16 CPUs, go1.25.4
```

## Hit Rate Benchmarks

### CDN

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| multicache    | 56.70% | 57.81% | 58.77% | 59.67% | 60.55% | 58.70% |
| sieve         | 55.63% | 56.95% | 58.25% | 59.30% | 60.59% | 58.14% |
| clock         | 55.09% | 56.68% | 58.14% | 59.42% | 60.57% | 57.98% |
| freelru-sync  | 54.90% | 56.52% | 57.94% | 59.35% | 60.53% | 57.85% |
| otter         | 54.73% | 55.36% | 55.95% | 57.28% | 59.04% | 56.47% |
| theine        | 54.35% | 55.28% | 55.36% | 55.80% | 59.28% | 56.01% |

  winner: multicache (+1.0% vs sieve)

### Meta

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| multicache    | 60.02% | 67.88% | 74.38% | 79.70% | 83.38% | 73.07% |
| theine        | 57.07% | 64.83% | 70.53% | 75.07% | 81.25% | 69.75% |
| sieve         | 52.10% | 61.56% | 70.02% | 77.17% | 82.45% | 68.66% |
| freelru-sync  | 50.93% | 59.92% | 69.44% | 77.58% | 83.12% | 68.20% |
| clock         | 50.23% | 59.80% | 68.95% | 76.76% | 82.68% | 67.68% |
| otter         | 36.03% | 45.21% | 64.07% | 73.66% | 80.57% | 59.91% |

  winner: multicache (+4.8% vs theine)

### Zipf

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| theine        | 63.14% | 74.16% | 87.15% | 95.01% | 95.01% | 82.90% |
| multicache    | 62.13% | 73.13% | 87.29% | 95.01% | 95.01% | 82.52% |
| sieve         | 61.56% | 73.07% | 87.00% | 95.01% | 95.01% | 82.33% |
| otter         | 61.43% | 73.34% | 86.64% | 95.01% | 95.01% | 82.29% |
| clock         | 56.54% | 70.48% | 86.60% | 95.01% | 95.01% | 80.73% |
| freelru-sync  | 55.57% | 69.55% | 86.11% | 95.01% | 95.01% | 80.25% |

  winner: theine (+0.5% vs multicache)

### Twitter

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| multicache    | 82.36% | 83.86% | 85.00% | 85.96% | 86.77% | 84.79% |
| sieve         | 80.97% | 82.96% | 84.60% | 86.08% | 86.77% | 84.28% |
| freelru-sync  | 80.37% | 82.56% | 84.50% | 86.18% | 86.77% | 84.08% |
| clock         | 80.03% | 82.28% | 84.26% | 86.00% | 86.77% | 83.87% |
| otter         | 79.82% | 81.68% | 83.86% | 85.75% | 86.77% | 83.58% |
| theine        | 80.26% | 81.59% | 82.56% | 84.17% | 86.77% | 83.07% |

  winner: multicache (+0.6% vs sieve)

### Wikipedia

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| multicache    | 21.67% | 25.62% | 30.21% | 35.25% | 40.31% | 30.61% |
| theine        | 21.16% | 25.16% | 29.68% | 35.00% | 40.39% | 30.28% |
| sieve         | 19.61% | 23.92% | 29.16% | 34.83% | 40.95% | 29.69% |
| otter         | 18.96% | 22.76% | 27.73% | 33.65% | 39.34% | 28.49% |
| clock         | 15.46% | 19.36% | 24.45% | 31.15% | 38.93% | 25.87% |
| freelru-sync  | 15.08% | 19.02% | 24.07% | 30.66% | 38.43% | 25.45% |

  winner: multicache (+1.1% vs theine)

### Thesios Block

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| clock         | 17.21% | 17.55% | 17.83% | 18.17% | 18.53% | 17.86% |
| multicache    | 17.11% | 17.58% | 17.86% | 18.16% | 18.54% | 17.85% |
| freelru-sync  | 17.23% | 17.52% | 17.77% | 18.09% | 18.55% | 17.83% |
| sieve         | 16.81% | 17.32% | 17.89% | 18.20% | 18.53% | 17.75% |
| otter         | 15.85% | 16.22% | 16.78% | 17.51% | 18.48% | 16.97% |
| theine        | 14.76% | 15.68% | 16.48% | 17.34% | 18.52% | 16.56% |

  winner: clock (+0.1% vs multicache)

### Thesios File

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| sieve         | 86.99% | 88.10% | 88.38% | 88.38% | 88.38% | 88.04% |
| multicache    | 87.03% | 88.01% | 88.38% | 88.38% | 88.38% | 88.04% |
| clock         | 86.87% | 88.05% | 88.38% | 88.38% | 88.38% | 88.01% |
| freelru-sync  | 87.06% | 87.80% | 88.38% | 88.38% | 88.38% | 88.00% |
| otter         | 85.99% | 87.73% | 88.38% | 88.38% | 88.38% | 87.77% |
| theine        | 80.11% | 87.12% | 88.38% | 88.38% | 88.38% | 86.47% |

  winner: sieve (+0.0% vs multicache)

### IBM Docker

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| clock         | 82.48% | 82.92% | 83.22% | 83.27% | 83.27% | 83.03% |
| freelru-sync  | 82.36% | 82.85% | 83.15% | 83.27% | 83.27% | 82.98% |
| multicache    | 82.17% | 82.93% | 83.19% | 83.27% | 83.27% | 82.97% |
| sieve         | 81.74% | 83.01% | 83.22% | 83.27% | 83.27% | 82.90% |
| otter         | 80.65% | 81.77% | 82.80% | 83.27% | 83.27% | 82.35% |
| theine        | 80.62% | 81.68% | 82.73% | 83.27% | 83.27% | 82.31% |

  winner: clock (+0.1% vs freelru-sync)

### Tencent Photo

| Cache         |    16K |    32K |    64K |   128K |   256K |    Avg |
|---------------|--------|--------|--------|--------|--------|--------|
| multicache    | 13.84% | 16.19% | 19.21% | 22.99% | 26.83% | 19.81% |
| sieve         | 12.80% | 15.09% | 18.15% | 22.51% | 26.96% | 19.10% |
| theine        | 13.33% | 15.34% | 17.61% | 20.28% | 23.59% | 18.03% |
| clock         |  9.89% | 13.53% | 17.60% | 21.88% | 26.16% | 17.81% |
| freelru-sync  |  9.64% | 13.20% | 17.30% | 21.62% | 25.92% | 17.54% |
| otter         | 12.29% | 14.34% | 16.76% | 19.68% | 22.92% | 17.20% |

  winner: multicache (+3.7% vs sieve)

## Latency Benchmarks

### String Keys

| Cache         | Get ns | Get alloc | Set ns | Set alloc | SetEvict ns | SetEvict alloc | Avg ns |
|---------------|--------|-----------|--------|-----------|-------------|----------------|--------|
| clock         |     15 |         0 |     21 |         0 |          96 |              2 |     18 |
| multicache    |     12 |         0 |     25 |         0 |         119 |              0 |     18 |
| freelru-sync  |     24 |         0 |     23 |         0 |          36 |              0 |     24 |
| sieve         |     22 |         0 |     43 |         0 |         190 |              3 |     32 |
| otter         |     36 |         0 |    131 |         1 |         157 |              1 |     84 |
| theine        |     82 |         1 |    119 |         0 |         206 |              0 |    100 |

  winner: clock (+2.8% vs multicache)

### Int Keys

| Cache         | Get ns | Get alloc | Set ns | Set alloc | SetEvict ns | SetEvict alloc | Avg ns |
|---------------|--------|-----------|--------|-----------|-------------|----------------|--------|
| multicache    |      9 |         0 |     24 |         0 |          99 |              0 |     16 |
| otter         |     35 |         0 |    132 |         1 |         152 |              1 |     84 |
| theine        |     76 |         1 |    110 |         0 |         185 |              0 |     93 |

  winner: multicache (+406.1% vs otter)

### GetOrSet

| Cache         | GetOrSet ns | GetOrSet alloc |
|---------------|-------------|----------------|
| multicache    |          15 |              0 |
| otter         |          53 |              1 |

  winner: multicache (+253.3% vs otter)

## Throughput Benchmarks

### String Get

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| otter         |  18.86M   | 133.38M   | 319.80M   | 306.48M   | 194.63M   |
| theine        |   8.66M   | 123.21M   | 201.46M   | 197.56M   | 132.72M   |
| multicache    |  43.85M   | 129.76M   | 136.99M   | 138.67M   | 112.32M   |
| sieve         |  34.46M   |   6.97M   |   6.18M   |   6.84M   |  13.61M   |
| clock         |  34.89M   |   6.17M   |   5.40M   |   6.01M   |  13.12M   |
| freelru-sync  |  23.51M   |   6.50M   |   6.35M   |   7.38M   |  10.93M   |

  winner: otter (+46.6% vs theine)

### String Set

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  21.52M   |  46.85M   |  38.55M   |  41.07M   |  37.00M   |
| clock         |  28.67M   |   5.93M   |   5.01M   |   5.64M   |  11.31M   |
| freelru-sync  |  21.00M   |   5.74M   |   5.65M   |   6.50M   |   9.72M   |
| sieve         |  15.33M   |   5.03M   |   4.81M   |   5.05M   |   7.56M   |
| theine        |   5.03M   |   4.45M   |   3.63M   |   2.83M   |   3.98M   |
| otter         |   6.29M   |   2.87M   |   2.70M   |   2.72M   |   3.65M   |

  winner: multicache (+227.1% vs clock)

### Int Get

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| otter         |  18.63M   | 159.86M   | 391.69M   | 379.68M   | 237.47M   |
| theine        |  10.79M   | 109.11M   | 230.77M   | 211.16M   | 140.46M   |
| multicache    |  90.96M   | 129.62M   | 129.64M   | 129.30M   | 119.88M   |

  winner: otter (+69.1% vs theine)

### Int Set

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  39.20M   |  61.61M   |  41.40M   |  44.09M   |  46.58M   |
| theine        |   7.43M   |   4.74M   |   3.39M   |   3.26M   |   4.70M   |
| otter         |   6.25M   |   2.96M   |   2.68M   |   2.75M   |   3.66M   |

  winner: multicache (+890.5% vs theine)

### GetOrSet

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| otter         |  12.26M   |  94.06M   | 161.80M   | 163.92M   | 108.01M   |
| multicache    |  42.65M   | 110.94M   | 129.07M   | 125.39M   | 102.01M   |

  winner: otter (+5.9% vs multicache)

## Memory Benchmarks

Baseline (map[string][]byte): 35.82 MB

| Cache         | Items Stored | Memory (MB) | Overhead vs map (bytes/item) |
|---------------|--------------|-------------|------------------------------|
| freelru-sync  |        32768 |       35.19 |                          -20 |
| otter         |        32768 |       36.29 |                           15 |
| clock         |        32768 |       37.00 |                           37 |
| theine        |        32768 |       38.46 |                           84 |
| sieve         |        32768 |       39.52 |                          118 |
| multicache    |        32768 |       39.55 |                          119 |

  winner: freelru-sync (+3.1% vs otter)

## Overall Rankings

| Rank | Cache         | Score | Gold | Silver | Bronze |
|------|---------------|-------|------|--------|--------|
|    1 | multicache    |   142 |    9 |      5 |      3 |
|    2 | otter         |    88 |    3 |      3 |      1 |
|    3 | theine        |    74 |    1 |      5 |      2 |
|    4 | clock         |    72 |    3 |      1 |      3 |
|    5 | sieve         |    69 |    1 |      3 |      3 |
|    6 | freelru-sync  |    58 |    1 |      1 |      4 |

